# OBD Vehicle Scan Report

**Scan Date:** 2025-12-07 18:03:26
**Device:** claude-zero (RPi5 + PiSugar 3)

---

## Adapter Information

| Property | Value |
|----------|-------|
| Device | ELM327 v1.4b |
| Firmware | STN2255 v5.10.3 |
| Voltage | 14.3V |
| Serial | 225530429398 |
| Manufacturer | OBD Solutions LLC |

## Protocol

| Property | Value |
|----------|-------|
| Protocol | AUTO, ISO 15765-4 (CAN 11/500) |
| Protocol ID | 6 |
| Auto-Detected | Yes |

## Vehicle Information

| Property | Value |
|----------|-------|
| VIN | N/A |

---

## Bluetooth Connection Quality (Pi Zero 2W Assessment)

**This section is critical for determining if this setup will work reliably on Pi Zero 2W.**

| Metric | Value | Notes |
|--------|-------|-------|
| Total Commands | 143 | Number of OBD commands sent |
| Success Rate | 7.7% | Should be >95% for reliable gauges |
| Timeouts | 0 | Should be 0 for reliable connection |
| No-Data Responses | 128 | Expected for unsupported PIDs |
| **Avg Latency** | **50.2 ms** | Lower is better (<100ms ideal) |
| Min Latency | 50.2 ms | Best-case response time |
| Max Latency | 50.3 ms | Worst-case response time |
| **Commands/Second** | **3.4** | Should be >5 for smooth gauges |
| Scan Duration | 42.4 sec | Total scan time |

### Pi Zero 2W Suitability: **Fair - May need optimization**

### Recommended Polling Rates

Based on connection quality, here are recommended polling rates for Pi Zero 2W:

| Gauge | Recommended Hz | Notes |
|-------|---------------|-------|
| RPM | 1 Hz | High priority |
| Boost | 1 Hz | High priority, needs 2 PIDs |
| Oil Temp | 1 Hz | Changes slowly |


---

## Live Gauge Values (at scan time)

| Gauge | Value | Status |
|-------|-------|--------|
| **RPM** | 659 RPM | OK |
| **Boost** | -8.8 PSI (-61 kPa) | OK |
| MAP | 38 kPa | - |
| Barometric | 99 kPa | - |

### Diagnostic Trouble Codes (DTCs)

No DTCs present.


---

## Supported PIDs Summary

### Mode 01

**Count:** 51 PIDs

```
01, 03, 04, 05, 06, 07, 08, 09, 0B, 0C, 0D, 0E, 11, 12, 13, 15, 19, 1C, 1F, 20, 21, 2E, 2F, 30, 31, 33, 34, 38, 3C, 3D, 40, 41, 42, 43, 44, 45, 46, 47, 49, 4A, 4C, 51, 56, 58, 60, 67, 6D, 70, 75, 76, 77
```

### Mode 09

**Count:** 5 PIDs

```
02, 04, 06, 08, 0A
```

---

## PID Readings

| Mode | PID | Name | Value | Unit | Raw | Formula |
|------|-----|------|-------|------|-----|---------|
| 01 | 01 | Monitor status since DTCs cleared | 0007ED00 |  | `0007ED00` | raw (special) |
| 01 | 03 | Fuel system status | 0202 |  | `0202` | raw (special) |
| 01 | 04 | Calculated engine load | 9.8 | % | `19` | A * 100 / 255 |
| 01 | 05 | Engine coolant temperature | 75 | °C | `73` | A - 40 |
| 01 | 06 | Short term fuel trim - Bank 1 | 0.0 | % | `80` | (A - 128) * 100 / 128 |
| 01 | 07 | Long term fuel trim - Bank 1 | -3.1 | % | `7C` | (A - 128) * 100 / 128 |
| 01 | 08 | Short term fuel trim - Bank 2 | 0.0 | % | `80` | (A - 128) * 100 / 128 |
| 01 | 09 | Long term fuel trim - Bank 2 | -7.0 | % | `77` | (A - 128) * 100 / 128 |
| 01 | 0B | Intake manifold absolute pressure | 38 | kPa | `26` | A |
| 01 | 0C | Engine RPM | 660.0 | RPM | `0A4E` | ((A * 256) + B) / 4 |
| 01 | 0D | Vehicle speed | 0 | km/h | `00` | A |
| 01 | 0E | Timing advance | 5.0 | ° | `8A` | (A - 128) / 2 |
| 01 | 11 | Throttle position | 12.5 | % | `20` | A * 100 / 255 |
| 01 | 12 | Commanded secondary air status | 04 |  | `04` | raw (special) |
| 01 | 13 | Oxygen sensors present (2 banks) | 33 |  | `33` | bitmap of supported PIDs |
| 01 | 15 | O2 Sensor 2 - Voltage/Trim | 0.44V, 99.2% |  | `58FF` | A/200, (B-128)*100/128 |
| 01 | 19 | O2 Sensor 6 - Voltage/Trim | 0.45V, 99.2% |  | `5AFF` | A/200, (B-128)*100/128 |
| 01 | 1C | OBD standards compliance | OBD + OBD-II |  | `03` | Lookup table |
| 01 | 1F | Run time since engine start | 586 | sec | `024A` | (A * 256) + B |
| 01 | 20 | PIDs supported [21-40] | 8007B119 |  | `8007B119` | bitmap of supported PIDs |
| 01 | 21 | Distance traveled with MIL on | 0 | km | `0000` | (A * 256) + B |
| 01 | 2E | Commanded evaporative purge | 37.3 | % | `5F` | A * 100 / 255 |
| 01 | 2F | Fuel tank level input | 99.6 | % | `FE` | A * 100 / 255 |
| 01 | 30 | Warm-ups since codes cleared | 85 |  | `55` | A |
| 01 | 31 | Distance traveled since codes cleared | 779 | km | `030B` | (A * 256) + B |
| 01 | 33 | Absolute barometric pressure | 99 | kPa | `63` | A |
| 01 | 34 | O2 Sensor 1 - Lambda/Current | 7E1F7FF1 |  | `7E1F7FF1` | raw (o2_current) |
| 01 | 38 | O2 Sensor 5 - Lambda/Current | 80BF7FFB |  | `80BF7FFB` | raw (o2_current) |
| 01 | 3C | Catalyst Temp: Bank 1, Sensor 1 | 328.4 | °C | `0E64` | ((A*256)+B)/10 - 40 |
| 01 | 3D | Catalyst Temp: Bank 2, Sensor 1 | 328.7 | °C | `0E67` | ((A*256)+B)/10 - 40 |
| 01 | 40 | PIDs supported [41-60] | FED08501 |  | `FED08501` | bitmap of supported PIDs |
| 01 | 41 | Monitor status this drive cycle | 0027E9E5 |  | `0027E9E5` | raw (special) |
| 01 | 42 | Control module voltage | 13.9 | V | `364C` | ((A * 256) + B) / 1000 |
| 01 | 43 | Absolute load value | 0045 |  | `0045` | raw (load_16) |
| 01 | 44 | Commanded A/F ratio | 14.7 | :1 | `8000` | ((A*256)+B)/32768 * 14.7 |
| 01 | 45 | Relative throttle position | 2.7 | % | `07` | A * 100 / 255 |
| 01 | 46 | Ambient air temperature | 3 | °C | `2B` | A - 40 |
| 01 | 47 | Absolute throttle position B | 12.9 | % | `21` | A * 100 / 255 |
| 01 | 49 | Accelerator pedal position D | 14.9 | % | `26` | A * 100 / 255 |
| 01 | 4A | Accelerator pedal position E | 14.9 | % | `26` | A * 100 / 255 |
| 01 | 4C | Commanded throttle actuator | 3.5 | % | `09` | A * 100 / 255 |
| 01 | 51 | Fuel type | Gasoline |  | `01` | Lookup table |
| 01 | 56 | Long term O2 trim - Bank 1/3 | 7E |  | `7E` | raw (percent_128_dual) |
| 01 | 58 | Long term O2 trim - Bank 2/4 | 80 |  | `80` | raw (percent_128_dual) |
| 01 | 60 | PIDs supported [61-80] | 02090E00 |  | `02090E00` | bitmap of supported PIDs |
| 01 | 67 | Engine coolant temperature | 037570 |  | `037570` | raw (special) |
| 01 | 6D | Fuel pressure control | 00D |  | `00D` | raw (special) |
| 01 | 70 | Boost pressure control | 00C |  | `00C` | raw (special) |
| 01 | 75 | Unknown PID 0175 | 009 |  | `009` | raw hex |
| 01 | 76 | Unknown PID 0176 | 009 |  | `009` | raw hex |
| 01 | 77 | Unknown PID 0177 | 0137000000 |  | `0137000000` | raw hex |
| 09 | 02 | Vehicle Identification Number |  |  | `014` | ASCII decode |
| 09 | 04 | Calibration ID |  |  | `013` | ASCII decode |
| 09 | 06 | Calibration Verification Numbers | 0120034999 |  | `0120034999` | raw (hex) |
| 09 | 08 | In-use performance tracking (compression) | 02B |  | `02B` | raw (special) |
| 09 | 0A | ECU name |  |  | `017` | ASCII decode |

---

## Extended PIDs Discovered (Mode 01, PIDs 60-9F)

These manufacturer-specific PIDs are not in the standard OBD-II specification but responded on this vehicle:

| PID | Raw Data | Notes |
|-----|----------|-------|
| 67 | `03766E` | May contain turbo/torque data |
| 6D | `00D` | May contain turbo/torque data |
| 70 | `00C` | May contain turbo/torque data |
| 75 | `009` | May contain turbo/torque data |
| 76 | `009` | May contain turbo/torque data |
| 77 | `0137000000` | May contain turbo/torque data |

**Total extended PIDs found:** 6

These PIDs may contain valuable data like direct boost pressure, torque values, or other
manufacturer-specific data. They need further analysis to decode properly.


---

## Pi Zero 2W Gauge Implementation Notes

Based on this scan, here are recommendations for your gauge project:

### Recommended Real-Time PIDs

These PIDs are commonly used for gauges and are available on this vehicle:

| PID | Name | Description |
|-----|------|-------------|
| 0C | RPM | Engine speed - primary gauge |
| 0D | SPEED | Vehicle speed |
| 05 | COOLANT_TEMP | Engine coolant temperature |
| 04 | ENGINE_LOAD | Calculated engine load |
| 11 | THROTTLE_POS | Throttle position |
| 2F | FUEL_LEVEL | Fuel tank level |
| 46 | AMBIENT_TEMP | Ambient air temperature |
| 42 | CONTROL_VOLTAGE | Control module voltage |
| 0B | INTAKE_PRESSURE | Intake manifold pressure |


### Connection Configuration

Use these settings for your Pi Zero 2W gauge project:

```python
# OBD Connection Configuration
# Generated from scan on 2025-12-07 18:03:26

OBD_CONFIG = {
    "protocol": "6",  # AUTO, ISO 15765-4 (CAN 11/500)
    "baudrate": 115200,
    "timeout": 2.0,
}

# Recommended gauge PIDs (Mode 01)
GAUGE_PIDS = [
    "0C",  # RPM
    "0D",  # SPEED
    "05",  # COOLANT_TEMP
    "04",  # ENGINE_LOAD
    "11",  # THROTTLE_POS
    "2F",  # FUEL_LEVEL
]
```

### Sample Polling Code

```python
import serial
import time

def init_obd(port="/dev/rfcomm0"):
    ser = serial.Serial(port, 115200, timeout=2)

    # Reset and configure
    ser.write(b"ATZ\r")
    time.sleep(1)
    ser.read(ser.in_waiting)

    ser.write(b"ATE0\r")  # Echo off
    time.sleep(0.1)
    ser.read(ser.in_waiting)

    ser.write(b"ATL0\r")  # Linefeeds off
    time.sleep(0.1)
    ser.read(ser.in_waiting)

    ser.write(f"ATSP{OBD_CONFIG['protocol']}\r".encode())
    time.sleep(0.1)
    ser.read(ser.in_waiting)

    return ser

def query_pid(ser, pid):
    ser.write(f"01{pid}\r".encode())
    time.sleep(0.1)
    response = ser.read(ser.in_waiting).decode()
    return response
```

---

## Raw Data Reference

### All Raw Command Responses

**ATI:**
```
ELM327 v1.4b
```

**STI:**
```
STN2255 v5.10.3
```

**ATRV:**
```
14.3V
```

**STSN:**
```
225530429398
```

**STMFR:**
```
OBD Solutions LLC
```

